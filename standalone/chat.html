
<html>  

<meta charset="utf-8" />
     <head>
       
		
<style>
    video {
               border: 3px solid #ccc;
               background: green;
               width: 400px;
               height: 400px
              }
.songThum{
top:100px;

border-radius: 25px; 

}

body {

  background-color:black;
color:green;

}
.msg{
  display: block;
color:white;

word-wrap: normal;


}
.superMsg{
  display: block;
color:green;
font-weight:bolder;


}
.chat
{

color:green;



  
left-padding:100px;


overflow-y:scroll;
width:90%;height:75%; 
font-size:30px;

overflow-x:hidden;
font-weight: bolder;
overflow-anchor: bottom;


padding-bottom:10px;

float:right;

 
};
.imground{

  border-radius: 50%;

}
.ct5{
  text-shadow: 1px 1px black;
color: green;
font-weight: bolder;
}
.userlist{
float:top;width:100%;height:10px;
font-weight:bolder;font-size:20px;}

 video {
               border: 3px solid #ccc;
               background: green;
               width: 400px;
               height: 400px
              }
			  
.playground{

 animation-name: example;
  animation-duration: 31s;
  animation-iteration-count: 199;
  animation-direction: alternate;

}
		@keyframes example {
  0%   { opacity:100%;}
  25%  {opacity:75%;}
  50%  {opacity:50%;}
  75%  {opacity:25%;}
  100% {opacity:0%;}
}	  
</style>

<script src="https://js.pusher.com/2.2/pusher.min.js"> </script> 




</head>

<body> 

<!-- 
Thanks to  Wonk_wifi and Layliee  and mark_c and Lindalu 

//--> 
  <div id="chat" class="chat" style="color:green;">

	</div>       
	</center>
  <script><!-- 

var el =  document.getElementById("chat"); 
el.scroll({ top: element.scrollHeight, behavior: "smooth"})


el.scrollIntoView(false);
el.scrollHeight();

  //--></script>
    <script>
let userId =prompt("Type in the broadcaster ID ");

const username ="Persimo_YADIJE";

//FetchBroadcastId(); 

if(userId >1){
FetchEvent(); 
}
else {
alert("Error"); 

}
 
function FetchEvent (){
pusher = new Pusher ('d5b7447226fc2cd78dbb', {
        cluster: "younow"
    });
	
  let channel = pusher.subscribe ("public-channel_" + userId);
  
 
   channel.bind ('onChat', function (data)
    {
		
        if (data.message !== "undefined")
    
			{
	var dataout = "" ; 
			for (let i = 0; i < data.message.comments.length; i++)
				{
				
				let username = data.message.comments[i].name;
				let TimsStamp =  data.message.comments[i].timestamp; 				   
				let  whatsSaid = data.message.comments[i].comment 
			//dataout = dataout +username + TimsStamp  +" " + whatsSaid   ; 
 
				
dataout = dataout + "<div class='msg'>"  +data.message.comments[i].name  +"  "+ timeConverter(TimsStamp) +" <b> " + data.message.comments[i].comment + "</b><div>"; 
				

				}
	
	
			}

	
	//console.log(dataout) ; 
	
var el2 =   document.getElementById("chat") ;
el2.innerHTML =   el2.innerHTML  + dataout; 


//el.innerHTML= dataout; 

	
	});
}  
  function timeConverter(UNIX_timestamp){
  var a = new Date(UNIX_timestamp * 1000);
  var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
  var year = a.getFullYear();
  var month = months[a.getMonth()];
  var date = a.getDate();
  var hour = a.getHours();
  var min = a.getMinutes();
  var sec = a.getSeconds();
  if(sec <10 ){
sec ="0"+sec

  }
  if(hour <10) {
hour = "0" + hour;

  }
  if(min <10){
min = "0" + min

  }
  var time =   hour + ':' + min ;
  return time;
}

</script> 

  
</body>
	</html>
